<app-loading *ngIf="loading"></app-loading>

<div class="container" *ngIf="!loading">
  <div class="row">
    <div class="col-2">
      <img [src]="artist.images | checkimg" class="img-medium">
    </div>
    <div class="col">
      <h3>{{ artist.name }}</h3>
      
      <a [href]="artist.external_urls.spotify" target="_blank">
        <span class="badge badge-primary">Link Spotify</span>
      </a>
    </div>
    <div class="col-3">
      <button routerLink="/home" type="button" class="btn btn-primary">Regresar</button>
    </div>
  </div>

  <br>
  
  <table class="table table-dark">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Foto</th>
        <th scope="col">Albúm</th>
        <th scope="col">Canción</th>
        <th scope="col">Vista previa</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let track of topTracks; let i = index">
        <th scope="row">{{ i + 1 }}</th>
        <td><img [src]="track.album.images | checkimg" class="img-small"></td>
        <td>
            <span class="badge badge-info">{{ track.album.name }}</span>
        </td>
        <td>
            <span class="badge badge-info">{{ track.name }}</span>
        </td>
        <td>
          <a *ngIf="track.preview_url" [href]="track.preview_url" target="_blank">
            <span class="badge badge-success">Ver preview</span>
          </a>
          <span *ngIf="!track.preview_url" class="badge badge-danger">No disponible</span>
        </td>
      </tr>
    </tbody>
  </table>
</div>